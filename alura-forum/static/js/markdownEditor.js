var MarkdownEditor=function(){function n(n){var r=n.querySelector(".markdownEditor-source"),o=n.querySelector(".markdownEditor-preview");if(null!=r&&null!=o){var i=function(n){var t;return function(){var r=this,o=arguments;clearTimeout(t),t=setTimeout(function(){n.apply(r,o)},e?300:800)}}(function(){var n=arguments;return function(e){t.apply(null,n)}}(r,o));r.addEventListener("input",i),r.addEventListener("keydown",function(n){t(r,o)}),t(r,o)}}function t(n,t){!function n(t,e){var r=t.value.replaceAll("[code]","```").replaceAll("[/code]","```");if("undefined"!=typeof marked){var o=marked(r);e.innerHTML=o}else setTimeout(function(){n(t,e)},300)}(n,t)}String.prototype.replaceAll=String.prototype.replaceAll||function(n,t){return this.split(n).join(t)};for(var e=matchMedia("(min-width: 800px)").matches,r=document.querySelectorAll(".markdownEditor"),o=0;o<r.length;o++)if(n(r[o]),e){var i=r[o].querySelector(".markdownEditor-button-preview");null!=i&&gnarus.buttonToggle.toggle(i)}return $(".markdownEditor-textArea").on("input",function(){$(".markdownEditor-preview").scrollTop($(".markdownEditor-preview")[0].scrollHeight)}),$(".markdownEditor-button-code").on("click",function(){var n=$(this.closest(".markdownEditor")).find(".markdownEditor-source"),t=$(n)[0],e=$(this).data("insert-code");n.caret("\n```\n"+e+"\n```\n");var r=n.caret()-"\n```\n".length;n.caret(r),t.setSelectionRange(r-e.length,r)}),$(".markdownEditor-button-format").on("click",function(){Aria.expandingButton($(this)),"true"===$(this).attr("aria-expanded")&&$(".markdownEditor-help").on("animationend",function(){$(this).focus()})}),{configure:n}}();